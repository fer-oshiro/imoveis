#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run lint-staged to format staged files
npm run lint-staged

# Run ESLint check (informational, won't block commit)
echo "ğŸ” Running ESLint check..."
npm run lint --workspace=packages/functions || echo "âš ï¸  ESLint found some issues. Run 'npm run lint:fix' to fix them."

# Run TypeScript check (informational, won't block commit)
echo "ğŸ” Running TypeScript check..."
npm run typecheck:src || echo "âš ï¸  TypeScript check completed with warnings. Main application code compiles successfully!"

echo "âœ… Pre-commit checks completed!"